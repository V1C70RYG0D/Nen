# ==========================================
# NEN PLATFORM PRODUCTION CONFIGURATION TEMPLATE
# Following GI-18: Zero hardcoding, all values externalized
# Copy this file to .env.production and set all required values
# ==========================================

# CRITICAL: All values marked with ${VARIABLE} MUST be set in your deployment environment
# This template follows GI.md guidelines for production readiness

# ==========================================
# DEPLOYMENT ENVIRONMENT VALIDATION
# ==========================================
# These variables MUST be set for production deployment
# Deployment will fail if any of these are missing

# Core Application Configuration
PROJECT_NAME=nen-platform-poc
PROJECT_VERSION=${PROJECT_VERSION}
NODE_ENV=production
DEPLOYMENT_ENVIRONMENT=production

# Network Configuration - GI-18: All network settings must be externalized
FRONTEND_HOST=${FRONTEND_HOST}
FRONTEND_PORT=${FRONTEND_PORT:-3000}
BACKEND_HOST=${BACKEND_HOST}
BACKEND_PORT=${BACKEND_PORT:-3001}
AI_SERVICE_HOST=${AI_SERVICE_HOST}
AI_SERVICE_PORT=${AI_SERVICE_PORT:-3003}
WEBSOCKET_HOST=${WEBSOCKET_HOST}
WEBSOCKET_PORT=${WEBSOCKET_PORT:-3002}

# Dynamic URL Construction - GI-18: No hardcoded URLs
FRONTEND_URL=https://${FRONTEND_HOST}:${FRONTEND_PORT}
API_BASE_URL=https://${BACKEND_HOST}:${BACKEND_PORT}
AI_SERVICE_URL=https://${AI_SERVICE_HOST}:${AI_SERVICE_PORT}
WEBSOCKET_URL=wss://${WEBSOCKET_HOST}:${WEBSOCKET_PORT}

# CORS Configuration - GI-18: Must be explicitly set
ALLOWED_ORIGINS=${ALLOWED_ORIGINS}

# ==========================================
# SECURITY CONFIGURATION - GI-18: ALL SECRETS EXTERNALIZED
# ==========================================
# Generate these with: openssl rand -base64 32
JWT_SECRET=${JWT_SECRET}
ENCRYPTION_KEY=${ENCRYPTION_KEY}
SESSION_SECRET=${SESSION_SECRET}

# API Security
RATE_LIMIT_WINDOW_MS=${RATE_LIMIT_WINDOW_MS:-900000}
RATE_LIMIT_MAX_REQUESTS=${RATE_LIMIT_MAX_REQUESTS:-100}

# ==========================================
# DATABASE CONFIGURATION - GI-18: NO HARDCODED CONNECTIONS
# ==========================================
DATABASE_URL=${DATABASE_URL}
POSTGRES_DB=${POSTGRES_DB}
POSTGRES_USER=${POSTGRES_USER}
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
POSTGRES_HOST=${POSTGRES_HOST}
POSTGRES_PORT=${POSTGRES_PORT:-5432}

# Database Connection Pooling
DB_POOL_MIN=${DB_POOL_MIN:-2}
DB_POOL_MAX=${DB_POOL_MAX:-10}

# ==========================================
# CACHE CONFIGURATION - GI-18: NO HARDCODED CACHE CONNECTIONS
# ==========================================
REDIS_URL=${REDIS_URL}
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT:-6379}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=${REDIS_DB:-0}

# Cache Settings
CACHE_L1_TTL=${CACHE_L1_TTL:-300}
CACHE_L2_TTL=${CACHE_L2_TTL:-1800}
CACHE_L3_TTL=${CACHE_L3_TTL:-3600}

# ==========================================
# BLOCKCHAIN CONFIGURATION - GI-18: NO HARDCODED ENDPOINTS
# ==========================================
SOLANA_NETWORK=${SOLANA_NETWORK:-mainnet-beta}
SOLANA_RPC_URL=${SOLANA_RPC_URL}
SOLANA_WSS_URL=${SOLANA_WSS_URL}
SOLANA_COMMITMENT=${SOLANA_COMMITMENT:-confirmed}

# MagicBlock Configuration
MAGICBLOCK_ENABLED=${MAGICBLOCK_ENABLED:-true}
MAGICBLOCK_API_KEY=${MAGICBLOCK_API_KEY}
MAGICBLOCK_ENDPOINT=${MAGICBLOCK_ENDPOINT}
MAGICBLOCK_PROGRAM_ID=${MAGICBLOCK_PROGRAM_ID}
MAGICBLOCK_RPC_URL=${MAGICBLOCK_RPC_URL}
MAGICBLOCK_WSS_URL=${MAGICBLOCK_WSS_URL}

# ==========================================
# AI SERVICE CONFIGURATION - GI-18: NO HARDCODED AI ENDPOINTS
# ==========================================
AI_SERVICE_ENABLED=${AI_SERVICE_ENABLED:-true}
AI_SERVICE_API_KEY=${AI_SERVICE_API_KEY}
AI_SERVICE_TIMEOUT=${AI_SERVICE_TIMEOUT:-30000}
AI_MODEL_NAME=${AI_MODEL_NAME:-gpt-4}
AI_MAX_TOKENS=${AI_MAX_TOKENS:-4096}

# AI Training Configuration
AI_TRAINING_ENABLED=${AI_TRAINING_ENABLED:-true}
AI_TRAINING_MAX_CONCURRENT=${AI_TRAINING_MAX_CONCURRENT:-3}
AI_TRAINING_TIMEOUT=${AI_TRAINING_TIMEOUT:-300000}

# ==========================================
# MONITORING & OBSERVABILITY - GI-18: CONFIGURABLE MONITORING
# ==========================================
# Logging Configuration
LOG_LEVEL=${LOG_LEVEL:-info}
LOG_FILE_PATH=${LOG_FILE_PATH:-/var/log/nen/backend.log}
LOG_MAX_FILE_SIZE=${LOG_MAX_FILE_SIZE:-10MB}
LOG_MAX_FILES=${LOG_MAX_FILES:-5}

# Metrics & Monitoring
METRICS_ENABLED=${METRICS_ENABLED:-true}
METRICS_PORT=${METRICS_PORT:-9090}
METRICS_PATH=${METRICS_PATH:-/metrics}
SENTRY_DSN=${SENTRY_DSN}

# Health Checks
HEALTH_CHECK_ENABLED=${HEALTH_CHECK_ENABLED:-true}
HEALTH_CHECK_INTERVAL=${HEALTH_CHECK_INTERVAL:-30000}
HEALTH_CHECK_TIMEOUT=${HEALTH_CHECK_TIMEOUT:-5000}

# ==========================================
# EXTERNAL SERVICES - GI-18: ALL EXTERNAL INTEGRATIONS EXTERNALIZED
# ==========================================
# Email Service
EMAIL_SERVICE_ENABLED=${EMAIL_SERVICE_ENABLED:-false}
EMAIL_SERVICE_URL=${EMAIL_SERVICE_URL}
EMAIL_API_KEY=${EMAIL_API_KEY}
EMAIL_FROM_ADDRESS=${EMAIL_FROM_ADDRESS}

# Notification Services
NOTIFICATIONS_ENABLED=${NOTIFICATIONS_ENABLED:-false}
WEBHOOK_SECRET=${WEBHOOK_SECRET}
NOTIFICATION_ENDPOINT=${NOTIFICATION_ENDPOINT}

# Analytics
ANALYTICS_ENABLED=${ANALYTICS_ENABLED:-false}
ANALYTICS_API_KEY=${ANALYTICS_API_KEY}
ANALYTICS_ENDPOINT=${ANALYTICS_ENDPOINT}

# ==========================================
# BACKUP & DISASTER RECOVERY - GI-18: CONFIGURABLE BACKUP
# ==========================================
BACKUP_ENABLED=${BACKUP_ENABLED:-true}
BACKUP_INTERVAL=${BACKUP_INTERVAL:-86400}
BACKUP_RETENTION_DAYS=${BACKUP_RETENTION_DAYS:-30}
BACKUP_STORAGE_URL=${BACKUP_STORAGE_URL}
BACKUP_ENCRYPTION_KEY=${BACKUP_ENCRYPTION_KEY}

# ==========================================
# PERFORMANCE & SCALING - GI-18: CONFIGURABLE PERFORMANCE
# ==========================================
# Game Engine Configuration
GAME_ENGINE_ENABLED=${GAME_ENGINE_ENABLED:-true}
GAME_MAX_CONCURRENT_MATCHES=${GAME_MAX_CONCURRENT_MATCHES:-1000}
GAME_MOVE_TIMEOUT=${GAME_MOVE_TIMEOUT:-30000}
GAME_SESSION_TTL=${GAME_SESSION_TTL:-7200}

# Match Configuration
MATCH_MIN_BET_SOL=${MATCH_MIN_BET_SOL:-0.01}
MATCH_MAX_BET_SOL=${MATCH_MAX_BET_SOL:-1000}
MATCH_PLATFORM_FEE_PERCENT=${MATCH_PLATFORM_FEE_PERCENT:-2.5}

# Request Processing
COMPRESSION_ENABLED=${COMPRESSION_ENABLED:-true}
COMPRESSION_LEVEL=${COMPRESSION_LEVEL:-6}
COMPRESSION_THRESHOLD=${COMPRESSION_THRESHOLD:-1024}

# ==========================================
# FEATURE FLAGS - GI-18: CONFIGURABLE FEATURES
# ==========================================
BETA_FEATURES_ENABLED=${BETA_FEATURES_ENABLED:-false}
ADVANCED_AI_TRAINING=${ADVANCED_AI_TRAINING:-false}
CROSS_CHAIN_SUPPORT=${CROSS_CHAIN_SUPPORT:-false}
ENTERPRISE_FEATURES=${ENTERPRISE_FEATURES:-false}
REAL_TIME_ANALYTICS=${REAL_TIME_ANALYTICS:-true}
AUTOMATED_MATCHMAKING=${AUTOMATED_MATCHMAKING:-true}

# ==========================================
# DEPLOYMENT CONFIGURATION - GI-18: CONFIGURABLE DEPLOYMENT
# ==========================================
# Container Configuration
DOCKER_ENABLED=${DOCKER_ENABLED:-true}
DOCKER_IMAGE_TAG=${DOCKER_IMAGE_TAG:-latest}
DOCKER_REGISTRY=${DOCKER_REGISTRY}

# Kubernetes Configuration
K8S_NAMESPACE=${K8S_NAMESPACE:-nen-platform}
K8S_REPLICAS=${K8S_REPLICAS:-3}
K8S_RESOURCE_LIMITS_CPU=${K8S_RESOURCE_LIMITS_CPU:-1000m}
K8S_RESOURCE_LIMITS_MEMORY=${K8S_RESOURCE_LIMITS_MEMORY:-2Gi}

# Load Balancer Configuration
LOAD_BALANCER_ENABLED=${LOAD_BALANCER_ENABLED:-true}
LOAD_BALANCER_ALGORITHM=${LOAD_BALANCER_ALGORITHM:-round_robin}
LOAD_BALANCER_HEALTH_CHECK=${LOAD_BALANCER_HEALTH_CHECK:-/health}

# ==========================================
# GI COMPLIANCE VALIDATION
# ==========================================
# These variables help validate GI compliance at runtime
GI_COMPLIANCE_LEVEL=${GI_COMPLIANCE_LEVEL:-strict}
GI_VALIDATION_ENABLED=${GI_VALIDATION_ENABLED:-true}
GI_HARDCODING_CHECK=${GI_HARDCODING_CHECK:-true}
GI_DOCUMENTATION_CHECK=${GI_DOCUMENTATION_CHECK:-true}
