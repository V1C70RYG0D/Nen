# ==========================================
# NEN PLATFORM TESTING ENVIRONMENT CONFIGURATION
# Following GI-18: Zero hardcoding, all values externalized
# Mirrors production setup for accurate testing
# ==========================================

# Project Configuration
PROJECT_NAME=nen-platform-poc
PROJECT_VERSION=0.1.0
NODE_ENV=test
DEPLOYMENT_ENVIRONMENT=testing

# ==========================================
# NETWORK CONFIGURATION - MIRRORS PRODUCTION
# ==========================================
FRONTEND_HOST=127.0.0.1
FRONTEND_PORT=3000
BACKEND_HOST=127.0.0.1
BACKEND_PORT=3001
AI_SERVICE_HOST=127.0.0.1
AI_SERVICE_PORT=3003
WEBSOCKET_HOST=127.0.0.1
WEBSOCKET_PORT=3002

# Dynamic URL Construction - Production-like
FRONTEND_URL=http://${FRONTEND_HOST}:${FRONTEND_PORT}
API_BASE_URL=http://${BACKEND_HOST}:${BACKEND_PORT}
AI_SERVICE_URL=http://${AI_SERVICE_HOST}:${AI_SERVICE_PORT}
WEBSOCKET_URL=ws://${WEBSOCKET_HOST}:${WEBSOCKET_PORT}

# Next.js Configuration
NEXT_PUBLIC_API_URL=${API_BASE_URL}
NEXT_PUBLIC_API_BASE_URL=${API_BASE_URL}
NEXT_PUBLIC_BACKEND_URL=${API_BASE_URL}
NEXT_PUBLIC_WS_URL=${WEBSOCKET_URL}
NEXT_PUBLIC_WEBSOCKET_URL=${WEBSOCKET_URL}

# ==========================================
# SECURITY CONFIGURATION - PRODUCTION GRADE
# ==========================================
JWT_SECRET=test-jwt-secret-for-testing-environment-only
ENCRYPTION_KEY=test-encryption-key-32-chars-long
SESSION_SECRET=test-session-secret-for-testing
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# ==========================================
# DATABASE CONFIGURATION - TESTING INSTANCES
# ==========================================
# PostgreSQL - Testing Database
DATABASE_URL=postgresql://test_user:test_password@127.0.0.1:5433/nen_platform_test
POSTGRES_DB=nen_platform_test
POSTGRES_USER=test_user
POSTGRES_PASSWORD=test_password
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5433

# MongoDB - Testing Database
MONGODB_URI=mongodb://127.0.0.1:27018/nen_platform_test
MONGODB_DATABASE=nen_platform_test

# Redis - Testing Instance
REDIS_URL=redis://127.0.0.1:6380
REDIS_HOST=127.0.0.1
REDIS_PORT=6380
REDIS_PASSWORD=
REDIS_DB=1

# Database Connection Pooling
DB_POOL_MIN=1
DB_POOL_MAX=5

# ==========================================
# BLOCKCHAIN CONFIGURATION - TESTNET
# ==========================================
SOLANA_NETWORK=devnet
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_WSS_URL=wss://api.devnet.solana.com
SOLANA_COMMITMENT=confirmed
NEXT_PUBLIC_RPC_URL=https://api.devnet.solana.com
NEXT_PUBLIC_SOLANA_RPC_URL=https://api.devnet.solana.com

# MagicBlock Testing Configuration
MAGICBLOCK_ENABLED=true
MAGICBLOCK_API_KEY=test-magicblock-api-key
MAGICBLOCK_ENDPOINT=https://devnet.magicblock.gg
MAGICBLOCK_PROGRAM_ID=test-program-id
MAGICBLOCK_RPC_URL=https://devnet.magicblock.gg
MAGICBLOCK_WSS_URL=wss://devnet.magicblock.gg

# Program IDs for Testing
NEXT_PUBLIC_PROGRAM_ID=test-program-id-for-testing
MAGIC_BLOCK_PROGRAM_ID=test-magic-block-program-id

# ==========================================
# AI SERVICE CONFIGURATION - TESTING
# ==========================================
AI_SERVICE_ENABLED=true
AI_SERVICE_API_KEY=test-ai-api-key
AI_SERVICE_TIMEOUT=30000
AI_MODEL_NAME=gpt-3.5-turbo
AI_MAX_TOKENS=2048

# AI Training Configuration
AI_TRAINING_ENABLED=true
AI_TRAINING_MAX_CONCURRENT=2
AI_TRAINING_TIMEOUT=120000

# ==========================================
# TESTING SPECIFIC CONFIGURATION
# ==========================================
# Test Environment URLs
TEST_FRONTEND_URL=${FRONTEND_URL}
TEST_API_BASE_URL=${API_BASE_URL}
TEST_WS_URL=${WEBSOCKET_URL}
TEST_SERVER_PORT=${BACKEND_PORT}

# Playwright Configuration
PLAYWRIGHT_BASE_URL=${FRONTEND_URL}
TEST_TIMEOUT_E2E=60000
ENABLE_PARALLEL_TESTS=true

# Performance Testing Limits
MAX_LATENCY_MS=50
MIN_THROUGHPUT_MSGS_PER_SEC=500
CONNECTION_TEST_DURATION_MS=30000
MAX_MEMORY_USAGE_MB=100
MAX_CPU_USAGE_PERCENT=70
MAX_BANDWIDTH_MBPS=50

# ==========================================
# LOGGING AND MONITORING - TESTING
# ==========================================
LOG_LEVEL=debug
LOG_FILE_PATH=./logs/testing.log
LOG_MAX_FILE_SIZE=5MB
LOG_MAX_FILES=3

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9091
METRICS_PATH=/metrics

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=10000
HEALTH_CHECK_TIMEOUT=3000

# ==========================================
# CORS AND SECURITY - TESTING
# ==========================================
ALLOWED_ORIGINS=${FRONTEND_URL},http://127.0.0.1:3000,http://localhost:3000
CORS_CREDENTIALS=true

# Image Configuration
NEXT_PUBLIC_ALLOWED_IMAGE_DOMAINS=${FRONTEND_HOST},via.placeholder.com,cdn.solana.com
NEXT_PUBLIC_IMAGES_UNOPTIMIZED=true

# ==========================================
# FEATURE FLAGS - TESTING ENVIRONMENT
# ==========================================
BETA_FEATURES_ENABLED=true
ADVANCED_AI_TRAINING=true
CROSS_CHAIN_SUPPORT=false
ENTERPRISE_FEATURES=false
REAL_TIME_ANALYTICS=true
AUTOMATED_MATCHMAKING=true

# ==========================================
# GAME ENGINE CONFIGURATION - TESTING
# ==========================================
GAME_ENGINE_ENABLED=true
GAME_MAX_CONCURRENT_MATCHES=100
GAME_MOVE_TIMEOUT=15000
GAME_SESSION_TTL=3600

# Match Configuration for Testing
MATCH_MIN_BET_SOL=0.001
MATCH_MAX_BET_SOL=10
MATCH_PLATFORM_FEE_PERCENT=2.5

# ==========================================
# BACKUP AND RECOVERY - TESTING
# ==========================================
BACKUP_ENABLED=false
BACKUP_INTERVAL=3600
BACKUP_RETENTION_DAYS=1

# ==========================================
# EXTERNAL SERVICES - TESTING STUBS
# ==========================================
EMAIL_SERVICE_ENABLED=false
NOTIFICATIONS_ENABLED=false
ANALYTICS_ENABLED=false

# ==========================================
# GI COMPLIANCE VALIDATION
# ==========================================
GI_COMPLIANCE_LEVEL=strict
GI_VALIDATION_ENABLED=true
GI_HARDCODING_CHECK=true
GI_DOCUMENTATION_CHECK=true
